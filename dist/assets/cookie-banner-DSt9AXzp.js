/*! js-cookie v3.0.5 | MIT */function E(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)o[n]=t[n]}return o}var _={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function h(o,e){function t(i,a,s){if(!(typeof document>"u")){s=E({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var c in s)s[c]&&(r+="; "+c,s[c]!==!0&&(r+="="+s[c].split(";")[0]));return document.cookie=i+"="+o.write(a,i)+r}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],s={},r=0;r<a.length;r++){var c=a[r].split("="),U=c.slice(1).join("=");try{var l=decodeURIComponent(c[0]);if(s[l]=o.read(U,l),i===l)break}catch{}}return i?s[i]:s}}return Object.create({set:t,get:n,remove:function(i,a){t(i,"",E({},a,{expires:-1}))},withAttributes:function(i){return h(this.converter,E({},this.attributes,i))},withConverter:function(i){return h(E({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(o)}})}var u=h(_,{path:"/"});function d(o){return document.querySelector(o)}function C(o){return document.querySelectorAll(o)}function T(o,e={}){let t=null;window.CustomEvent&&typeof window.CustomEvent=="function"?t=new CustomEvent(o,{detail:e}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(o,!0,!0,e)),document.querySelector("body").dispatchEvent(t)}class p{constructor(){this.$COOKIE_MODAL=d("#cookie-modal"),this.$FEATURES=C(".cookie-modal__checkbox"),this.$ACCEPT_BUTTON=d("#cookie-accept"),this.$DENY_BUTTON=d("#cookie-deny"),this.$SAVE_BUTTON=d("#cookie-save"),this.MODAL_OPEN=!1,this.MINUMUM_FEATURES=["essential"],this.MAXIMUM_FEATURES=[],this.CUSTOM_FEATURES=[],this.SHOW_ON_FIRST=this.$COOKIE_MODAL.dataset.showOnFirst==="true",this.initCookieModal().then(e=>this.registerHooks())}initCookieModal(){const e=this;return new Promise(t=>{e.loadMaximumFeatures(),e.loadCustomFeatures(),e.CUSTOM_FEATURES.length===0&&this.SHOW_ON_FIRST?e.openCookieModal():e.CUSTOM_FEATURES.length!==0&&T("cookies:loaded",e.CUSTOM_FEATURES),t()})}registerHooks(){const e=this;Array.prototype.forEach.call(e.$FEATURES,t=>{t.addEventListener("change",n=>e.updateCustomFeatures())}),e.$ACCEPT_BUTTON.addEventListener("click",t=>e.save(e.MAXIMUM_FEATURES)),e.$DENY_BUTTON.addEventListener("click",t=>e.save(e.MINUMUM_FEATURES)),e.$SAVE_BUTTON.addEventListener("click",t=>e.save(e.CUSTOM_FEATURES)),d("body").addEventListener("cookies:update",t=>{e.loadCustomFeatures(),e.openCookieModal()})}loadMaximumFeatures(){const e=this;Array.prototype.forEach.call(e.$FEATURES,t=>{const n=t.dataset.cookieId.toLowerCase();e.MAXIMUM_FEATURES.push(n)})}loadCustomFeatures(){const e=this;if(u.get("cookie_status")){e.CUSTOM_FEATURES=u.get("cookie_status").split(",");const t=Array.prototype.filter.call(e.$FEATURES,n=>{const i=n.dataset.cookieId.toLowerCase();return e.CUSTOM_FEATURES.indexOf(i)>-1});Array.prototype.forEach.call(t,n=>{n.setAttribute("checked",!0)}),e.updateButtons()}}updateCustomFeatures(){const e=this;e.CUSTOM_FEATURES=[];const t=Array.prototype.filter.call(e.$FEATURES,n=>n.checked);Array.prototype.forEach.call(t,n=>{const i=n.dataset.cookieId.toLowerCase();e.CUSTOM_FEATURES.push(i)}),e.updateButtons()}save(e){const t=this;event.preventDefault(),e.length||(e=t.MINUMUM_FEATURES),T("cookies:saved",e),t.setCookie(e),t.CUSTOM_FEATURES=e,t.closeCookieModal()}updateButtons(){let e=this;e.CUSTOM_FEATURES.length>1?(e.$ACCEPT_BUTTON.classList.add("hide"),e.$DENY_BUTTON.classList.add("hide"),e.$SAVE_BUTTON.classList.remove("hide")):(e.$ACCEPT_BUTTON.classList.remove("hide"),e.$DENY_BUTTON.classList.remove("hide"),e.$SAVE_BUTTON.classList.add("hide"))}setCookie(e){u.set("cookie_status",e.join(","),{expires:365,sameSite:"lax"})}closeCookieModal(){const e=this;e.$COOKIE_MODAL.classList.add("cookie-modal--hidden"),e.MODAL_OPEN=!1}openCookieModal(){const e=this;e.$COOKIE_MODAL.classList.remove("cookie-modal--hidden"),e.MODAL_OPEN=!0}}document.addEventListener("DOMContentLoaded",()=>{window.cookieBanner=new p});
